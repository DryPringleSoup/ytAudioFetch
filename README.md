# ytAudioFetch
Light [yt-dlp](https://github.com/yt-dlp/yt-dlp) gui that fetches audio from playlists/videos as .mp3's and tags them with artists, titles, and cover art/thumbnail

## Installation
### Command Line
1. Clone repository:
   ```bash
   git clone https://github.com/DryPringleSoup/ytAudioFetch.git
   ```

2. Create virtual environment
   ```bash
   python -m venv ytafenv
   ```
3. Activate environment
  - On Windows
     ```bash
     ytafenv\Scripts\activate
     ```
  - On Linux
     ```bash
     source ytafenv/bin/activate
     ```

4. Install dependencies
   ```bash
   pip install -r requirements.txt
   ```

5. Run GUI
   ```bash
   python ytAudioFetchGUI.py
   ```

Copy and paste
- Windows
    ```bash
    git clone https://github.com/DryPringleSoup/ytAudioFetch.git
    python -m venv ytafenv
    ytafenv\Scripts\activate
    pip install -r requirements.txt
    python ytAudioFetchGUI.py
    ```

- Linux
    ```bash
    git clone https://github.com/DryPringleSoup/ytAudioFetch.git
    python -m venv ytafenv
    source ytafenv\bin\activate
    pip install -r requirements.txt
    python ytAudioFetchGUI.py
    ```

## Guide
![labelled url mode](URLmodeLabelled.png)
1. URL Mode: This is the main mode, it allows to download any playlist's or video's audio
2. JSON Mode (More info below next image): Using your own custom JSON file, you can put it your own tag data and have all the specified files be tagged
3. Youtube URL to extract from (playlist or single videos (this includeds shorts) are valid)
4. Directory/Folder to save to; you can either manually type it or press the folder icon and browse to find it
5. Advanced options toggle: Hides and unhides advanced options
6. Dark Mode activator: changes the theme to dark mode (see last image for previews)
7. Vebose skip list: normally when the program is done processing it shows alist of any videos/json entries whose downloads were skipped; turning on this will show all operations that were skipped like skipped tags and skipped saves. This often makes the list much longer
8. Download operation: whether or not to download the audio file
9. Tag operation: whether or not to tag the audio file with tags checked in 13-17
10. Save operation: whether or not to save the tag data to a JSON file
11. replacing files: replace existing files with the same name, works by checking if the file already exists that also looks like "YTAF-[id]-[title].mp3" so, if you change the file name, the original will not be replaced
12. Tag existing: uses same check as 11 to determine existing files. Turned off skips tagging if the file already exists
13. youtube url tag; gets saved to the WOAS (sourceURL) ID3 tag
14. title tag; gets saved to the TIT2 (title) ID3 tag
15. artist tag; gets saved to the TPE1 (artist) ID3 tag
   - Note for 14 and 15: when the original youtube title in the form "[this] - [that]", it gets parsed as "[artist] - [title]", otherwise the title is just the original title and the artist is just the channel name (I know this is not a perfect solution but it works a good 7 / 10 times so I don't particularly care enough to thing of something more convoluted). Also, if the artist is the channel name, it removes the " - Topic" from the end of the title in autogenerated tracks made by youtube
16. uploader tag; gets saved to the TPUD (publisher) ID3 tag (this is the channel name)
17. thumbnail tag; gets saved to the APIC (picture) ID3 tag
18. Save file path: where to save the JSON file
19. Start button: begin the script in the current mode
20. Status feed: updates as the script runs; shows the current video being processed and, when finished, the list of skipped operations
21. Output feed: updates as the script runs; shows the console output from the script

![labelled json mode](JSONmodeLabelled.png)
1. json file to extract from
   - json files should be formatted like this
    ```json
    {
      ... ,
      "[file path to mp3]": {
         "url": "[youtube URL (playlist URLs don't work)]",
         "title": "[track title]",
         "artist": "[artist(s)]",
         "uploader": "[uploader]",
         "thumbnail": "[file path to image or raw link to image file]"
      },
      ...
    }
    ```
   - Note: not all tags are required to be included, however only supported tags (see 13-17) will be added


![app previews](allLooks.png)